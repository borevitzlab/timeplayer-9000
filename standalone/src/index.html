<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>


    <script src="appy://js/jquery.js"></script>  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/openseadragon/2.3.1/openseadragon.min.js" integrity="sha256-n4ByW+cPTjRPlgHTEuQ27tZfn/ffdkmZWW7J7GP6YvM=" crossorigin="anonymous"></script>

    <script src="https://traitcapture.org/static/js/openseadragon-selection.js"></script>
    <script src="https://traitcapture.org/static/js/d3-dnd.js"></script>
    <script src="https://traitcapture.org/static/js/d3-colorbrewer.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-queue/3.0.7/d3-queue.min.js" integrity="sha256-BUeQcbeHGtOD0tfPelPN+k+dX9fDwzXAA7qHwPH92HA=" crossorigin="anonymous"></script>
    <script src="appy://js/timeplayer-9000.rld.js"></script>        
    
    <style>
      
      .timeplayer-panel{
          padding: 3px 3px;
      }
  
    </style>

  </head>
  <body>

        <div class="timeplayer-panel">
            <div id="timeplayer-9000"></div>
        </div>

    <script type="text/javascript">
    
      var ipcRenderer = require('electron').ipcRenderer;
      ipcRenderer.on('TimePlayer-data', function (data) {
          console.log(data);
      });

      ipcRenderer.on('TimePlayer-reload', function (data) {
        ReLoadTimePlayer();
      });

      function LoadTimePlayer(dataPath)
      {

        window.timeplayer = null;

        window.timeplayer = new TimePlayer.ES6Player({
          url: dataPath,
          showRoiControls:true
      });

      console.log(window.timeplayer);
      console.log(dataPath);

      }

      function ReLoadTimePlayer()
      {

        $("#timeplayer-9000").html("");
        LoadTimePlayer(window.timeplayer.url);

      }

      $(window).resize(function(){
        ReLoadTimePlayer();
      });

      LoadTimePlayer('https://traitcapture.org/api/v3/config/by-id/565d04dad13144392ffb8322.json');

    
  </script>
  </body>

</html>
